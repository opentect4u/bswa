<p-card>
  <div class="row align-items-center">
    <h3 class="flex align-items-center">
      <i class="pi pi-hourglass menu-icon"></i>&nbsp;
      <b>Subscription Deposit Entry</b>
    </h3>
  </div>

  <form [formGroup]="form">
    <div class="formgrid grid mt-4">
      <div class="field col-12 md:col-6">
        <input id="mem_id" type="text" formControlName="mem_id" placeholder="Enter Member ID here...."
          class="text-base text-color surface-overlay p-3 border-1 border-solid surface-border border-round appearance-none outline-none focus:border-primary w-full" />
      </div>
      <div class="field col-12 md:col-6">
        <p-button class="add_btn" label="Submit" styleClass="p-button-rounded p-button-text p-button-raised"
          [style]="{'background-color': 'rgb(140 202 231)', 'border-color': '#50b0dd', 'color': '#ffff'}"
          (click)="submit_search()"></p-button>
      </div>
    </div>
  </form>

  <ng-container *ngIf='showDepoEntry'>
    <form [formGroup]='entryForm'>
      <p-divider type="dashed"></p-divider>

      <h4 class="text-center" style="color: black;">User Details</h4>
      <p>
        <label>Member Name: </label>
        <label>{{this.userData!['memb_name']}}</label>
      </p>
      <p>
        <label>Member ID: </label>
        <label>{{this.userData!['member_id']}}</label>
      </p>
      <p>
        <label>Member Type: </label>
        <label>{{this.userData!['mem_type']}}</label>
      </p>
      <p>
        <label>Subscription Upto: </label>
        <label>{{this.userData!['subscription_upto'] | date: 'MM-yyyy'}}</label>
      </p>
      <p>
        <label>Opening: </label>
        <label>{{this.userData!['calc_amt']}}</label>
      </p>
      <p-divider type="dashed"></p-divider>

      <h4 class="text-center" style="color: black;">Subscription Details</h4>
      <div class="formgrid grid mt-1">
        <div class="field col-12 md:col-4">
          <label for="subs_amt" style="color: black"><b>Subscription Fee</b></label>
          <input id="subs_amt" type="text" formControlName="subs_amt" placeholder="Enter subscription fee...."
            class="text-base text-color surface-overlay p-2 border-1 border-solid surface-border border-round appearance-none outline-none focus:border-primary w-full" />
          <div *ngIf="f['subs_amt']?.dirty || f['subs_amt']?.touched || f['subs_amt']?.hasError('notDivisibleByTwo')"
            class="error-message">
            <small class="text-red-700" *ngIf="f['subs_amt']?.errors">
              Please enter a valid Subscription fee it is required.
            </small>
          </div>
        </div>
      </div>
      <p-divider type="dashed"></p-divider>

      <h4 class="text-center" style="color: black;">Payment Mode</h4>
      <div class="flex flex-row">
        <div class="field col-12 md:col-12">
          <label for="payment" class="label_field" style="color: black;"><b>Payment Mode:</b></label>&nbsp;
          <select id="payment" formControlName="payment" [(ngModel)]="selectedValue2"
            class="w-full text-base text-color surface-overlay p-2 border-1 border-solid surface-border border-round outline-none focus:border-primary"
            style="appearance: auto; height: 3vw; border-radius: 7px">
            <option value="N" select>Select Payment Mode</option>
            <option value="C">Cash</option>
            <option value="Q">Cheque</option>
            <!-- <option value="O">Online Transaction</option> -->
          </select>
        </div>
      </div>

      <div class="flex flex-row" *ngIf="entryForm.controls['payment'].value != 'Q'">
        <div class="field col-12 md:col-12">
          <label for="receipt_no" style="color: black"><b>Receipt No<span class="text-red-700">*</span></b></label>
          <input id="receipt_no" type="text" formControlName="receipt_no" placeholder="Enter Receipt No...."
            class="text-base text-color surface-overlay p-2 border-1 border-solid surface-border border-round appearance-none outline-none focus:border-primary w-full" />
          <div *ngIf="f['receipt_no']?.touched || f['receipt_no']?.dirty">
            <small class="text-red-900" *ngIf="f['receipt_no']?.errors">Receipt No is required.</small>
          </div>
        </div>
      </div>

      <!-- <div *ngIf="entryForm.controls['payment'].value!= 'Q'">
        <div class="flex flex-row">
          <button pButton pRipple type="button" label="DONE" class="p-button-raised"
            (click)="cash_accept_associate()"></button>
        </div>
      </div> -->

      <div *ngIf="entryForm.controls['payment'].value === 'Q'">
        <div class="formgrid grid mt-3">
          <div class="field col-12 md:col-4">
            <label for="cheque_dt" style="color: black"><b>Cheque Date<span class="text-red-700">*</span></b></label>
            <input id="cheque_dt" type="date" formControlName="cheque_dt" placeholder="Enter Cheque dt...."
              class="text-base text-color surface-overlay p-2 border-1 border-solid surface-border border-round appearance-none outline-none focus:border-primary w-full" />
            <div *ngIf="f['cheque_dt']?.touched || f['cheque_dt']?.dirty">
              <small class="text-red-900" *ngIf="f['cheque_dt']?.errors">Cheque Date is required.</small>
            </div>
          </div>
          <div class="field col-12 md:col-4">
            <label for="cheque_no" style="color: black"><b>Cheque No<span class="text-red-700">*</span></b></label>
            <input id="cheque_no" type="text" formControlName="cheque_no" placeholder="Enter Cheque No...."
              class="text-base text-color surface-overlay p-2 border-1 border-solid surface-border border-round appearance-none outline-none focus:border-primary w-full" />
            <div *ngIf="f['cheque_no']?.touched || f['cheque_no']?.dirty">
              <small class="text-red-900" *ngIf="f['cheque_no']?.errors">Cheque No is required.</small>
            </div>
          </div>
          <div class="field col-12 md:col-4">
            <label for="bank_name" style="color: black"><b>Bank Name<span class="text-red-700">*</span></b></label>
            <input id="bank_name" type="text" formControlName="bank_name" placeholder="Enter Bank Name...."
              class="text-base text-color surface-overlay p-2 border-1 border-solid surface-border border-round appearance-none outline-none focus:border-primary w-full" />
            <div *ngIf="f['bank_name']?.touched || f['bank_name']?.dirty">
              <small class="text-red-900" *ngIf="f['bank_name']?.errors">Bank Name is required.</small>
            </div>
          </div>
        </div>
        <!-- <div class="flex flex-row">
          <button pButton pRipple type="button" label="DONE" class="p-button-raised sub_btn"
            (click)="cheque_accept_life()"></button>
        </div> -->
      </div>
      <div class="flex flex-row">
        <button pButton pRipple type="button" label="Save" class="p-button-raised sub_btn" (click)="save()"></button>
      </div>
    </form>
  </ng-container>
</p-card>